# [[ Keybinds ]]

$mainMod = SUPER

# Custom Keybinds.
bind = $mainMod, return, exec, $terminal
bindr= $mainMod, D, exec, $menu
bind = $mainMod, w, exec, firefox
bind = SUPER_SHIFT, w, exec, webcam
bind = ALT SHIFT, a, exec, toggle-animations
bind = $mainMod, b , exec, pkill -SIGUSR1 waybar
# bindr = $mainMod Shift, e, exec, emacsclient -c
bind = $mainMod, f, togglefloating,
bind = $mainMod SHIFT, f, fullscreen, 
bind = $mainMod  SHIFT, l, exec, hyprlock
bind = $mainMod, q, killactive, 
bind = SUPER_SHIFT, q, exec, dmenu-exit
bind = ,Print, exec, grimblast -n copy screen
bind = $mainMod SHIFT, r , exec, screencast
bind = $mainMod SHIFT, s, exec, grimblast -n copy area
bind = ALT,m , exec, pypr menu
bind = $mainMod SHIFT,Print, exec, shareurl.sh
bind = ,XF86PowerOff, exec, doas zzz -z

# [[ KeyChords ]]
bind = $mainMod, SPACE , submap, menusubmap
submap = menusubmap
bind = ,i,exec,foot -e nsxiv ~/pics/art/ -t -g 1500x700
bind = ,i,submap,reset
bind = ,m,exec,dmenumount
bind = ,m,submap,reset
bind = ,u,exec,dmenuumount
bind = ,u,submap,reset
bind = ,q,exec,sysact
bind = ,q,submap,reset
bind=,escape,submap,reset 
submap = reset

bind = $mainMod, p , submap, menusubmap
submap = menusubmap
bind = ,p,exec,foot -a scratchpad -e pypr reload
bind = ,p,submap,reset
submap = reset

# [[ Window management ]]
# Move focus with mainMod + arrow keys
bind = $mainMod, J, layoutmsg,cyclenext
bind = $mainMod, K, layoutmsg,cycleprev

# Swap windows
bind = $mainMod SHIFT, J, swapnext, next
bind = $mainMod SHIFT, K, swapnext, prev

# Resize windows
bind = $mainMod, l, resizeactive, 40 0
bind = $mainMod, h, resizeactive, -40 0

# Change gaps
# binde = $mainMod,       Z, exec, hyprgaps -i 3
# binde = $mainMod,       X, exec, hyprgaps -d 3
# bind  = $mainMod,       A, exec, hyprgaps -t
# bind  = $mainMod SHIFT, A, exec, hyprgaps -r

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Cycle through ocuped workspaces
bind = ALT, Tab, workspace, m+1
bind = ALT SHIFT, Tab, workspace, m-1
bind = SUPER, Tab, workspace, previous

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Audio MPC commands
bind = ,XF86AudioPlay, exec, mpc toggle
bind = ,XF86AudioStop, exec, mpc stop
bind = ,XF86AudioNext, exec, mpc next
bind = ,XF86AudioPrev, exec, mpc prev
binde = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 5%+
binde = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Screen Brightness
bind=,XF86MonBrightnessUp,exec,doas brightnessctl set +10%
bind=,XF86MonBrightnessDown,exec,doas brightnessctl set 10%-

# scratchpads
bind = $mainMod SHIFT, Return, exec, pypr toggle term && hyprctl dispatch bringactivetotop
bind = $mainMod, m, exec, pypr toggle music_player && hyprctl dispatch bringactivetotop
bind = $mainMod, e, exec, pypr toggle file_manager && hyprctl dispatch bringactivetotop
bind = ALT SHIFT, Return, exec, pypr toggle emacs && hyprctl dispatch bringactivetotop

# Expose windows.
bind = $mainMod, o, exec, pypr expose
# Add some style to the "exposed" workspace
workspace = special:exposed,gapsout:40,gapsin:20,bordersize:2,border:true,shadow:false

# layout_center.
bind = $mainMod SHIFT, f, exec, pypr layout_center toggle
bind = $mainMod SHIFT, n, exec, pypr layout_center next
bind = $mainMod SHIFT, m, exec, pypr layout_center prev
