#!/bin/sh

# Created By: Javier Pacheco - jpacheco@cock.li
# Created On: 12/04/24
# Project: Update nixOS

update () {
    nix flake update && home-manager switch --flake . && sudo nixos-rebuild switch --flake .
}

git_push() {
    cd $HOME/.dotfiles
    git add .
    echo "Commit message: Update NixOS"
    git commit -m "Update NixOS"
    git push
}

cd /home/javier/.dotfiles/nix/ && update
cd /home/javier/.dotfiles && git_push
